(window.MIP=window.MIP||[]).push({name:"mip-accordion",func:function(){define("mip-accordion/mip-accordion",["require","customElement","zepto","util"],function(e){function t(e){var t=this,i="MIP-"+e+"-"+s,n=o(i);for(var a in n){if(!n.hasOwnProperty(a))return;if(n[a]){var c=r("#"+a,t);c.attr("aria-expanded","open"),c.parents("section").attr("expanded","open")}}}function i(e){var t=r(e),i=r(e).attr("animatetime")||.3;t.on("click",".mip-accordion-header",function(){var t=r(this).attr("aria-controls"),o=r("#"+t),a=o.attr("aria-expanded"),s=r(this).parents("section").find(".show-more"),d=r(this).parents("section").find(".show-less");if("open"===a){if(c.fn.heightAni({ele:o[0],type:"fold",transitionTime:i,cbFun:function(e){e.attr("aria-expanded","close")}.bind(void 0,o)}),r(this).parents("section").removeAttr("expanded"),s.length&&d.length)s.css("display","block"),d.css("display","none");n(e,t,!1)}else{if(e.hasAttribute("expaned-limit"))for(var p=e.querySelectorAll("section"),l=0;l<p.length;l++){var m=p[l].querySelector(".mip-accordion-content"),f=p[l].querySelector(".mip-accordion-header"),u=f.getAttribute("aria-controls");p[l].removeAttribute("expanded"),m.removeAttribute("aria-expanded"),n(e,u,!1),c.fn.heightAni({ele:m,type:"fold",transitionTime:i})}if(o.attr("aria-expanded","open"),r(this).parents("section").attr("expanded","open"),s.length&&d.length)d.css("display","block"),s.css("display","none");c.fn.heightAni({ele:o[0],type:"unfold",oriHeight:0,transitionTime:i}),n(e,t,!0)}})}function n(e,t,i){var n="MIP-"+e.getAttribute("sessions-key")+"-"+s,a=o(n);a[t]=i,sessionStorage[n]=JSON.stringify(a)}function o(e){var t=sessionStorage[e];return t?JSON.parse(t):{}}var a=e("customElement").create(),r=e("zepto"),c=e("util"),s=location.href;return a.prototype.firstInviewCallback=function(){var e=this,a=this.element;if(this.type=r(a).attr("type")||"automatic",this.sections=r(a).find("section"),this.id=r(a).attr("sessions-key"),this.element.setAttribute("role","tablist"),this.currentState=o.call(this),this.sections.map(function(t,i){var o=r(i).find("[accordionbtn]"),c=r(i).find("[accordionbox]");if(!o.length||!c.length)o=r(i.children.item(0)),c=o.next();o.addClass("mip-accordion-header"),c.addClass("mip-accordion-content");var s=c.attr("id");if(!s)s="MIP_"+e.id+"_content_"+t,c.attr({id:s});if(e.currentState[s])i.attr("expanded","");else if(!1===e.currentState[s])i.removeAttribute("expanded");if("manual"===e.type&&i.hasAttribute("expanded"))c.attr("aria-expanded","open"),n(a,r(a).attr("aria-controls"),!0);else if("automatic"===e.type)c.attr("aria-expanded",i.hasAttribute("expanded").toString());o.attr("aria-controls",s)}),"automatic"===e.type)t.call(a,this.id);i(a)},a}),define("mip-accordion",["mip-accordion/mip-accordion"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-accordion",t,'.mip-accordion-content{display:none !important;overflow:hidden}.mip-accordion-content[aria-expanded="open"]{display:block !important}mip-accordion section[expanded=open] .show-more{display:none !important}mip-accordion section .show-more{display:block}mip-accordion section .show-less{display:none}mip-accordion section[expanded=open] .show-less{display:block}')}if(window.MIP)require(["mip-accordion"],function(t){e(window.MIP,t)});else require(["mip","mip-accordion"],e)}()}});